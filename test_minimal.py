#!/usr/bin/env python3
"""
–¢–µ—Å—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–æ—Ç–∞
"""

import asyncio
from utils.keyboards import create_main_menu_keyboard

def test_minimal_bot():
    """–¢–µ—Å—Ç–∏—Ä—É–µ—Ç –º–∏–Ω–∏–º–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é –±–æ—Ç–∞"""
    print("üß™ –¢–ï–°–¢ –ú–ò–ù–ò–ú–ê–õ–¨–ù–û–ô –í–ï–†–°–ò–ò –ë–û–¢–ê")
    print("=" * 40)
    
    # –¢–µ—Å—Ç –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
    try:
        keyboard = create_main_menu_keyboard()
        print(f"‚úÖ –ö–ª–∞–≤–∏–∞—Ç—É—Ä–∞ —Å–æ–∑–¥–∞–Ω–∞: {len(keyboard.inline_keyboard)} —Ä—è–¥–æ–≤")
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—Ç—Ä—É–∫—Ç—É—Ä—É
        categories = []
        for row in keyboard.inline_keyboard:
            for button in row:
                categories.append(button.text)
        
        print(f"üì± –ö–∞—Ç–µ–≥–æ—Ä–∏–∏: {', '.join(categories)}")
        
        expected_categories = ["üí´ –ú–æ—Ç–∏–≤–∞—Ü–∏—è", "üîÆ –≠–∑–æ—Ç–µ—Ä–∏–∫–∞", "üéØ –†–∞–∑–≤–∏—Ç–∏–µ", "üåü –ó–¥–æ—Ä–æ–≤—å–µ", "üíù –û—Ç–Ω–æ—à–µ–Ω–∏—è"]
        
        if all(cat in categories for cat in expected_categories):
            print("‚úÖ –í—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—Ä–∏—Å—É—Ç—Å—Ç–≤—É—é—Ç")
        else:
            print("‚ùå –ù–µ–∫–æ—Ç–æ—Ä—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç")
            
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã: {e}")
        return False
    
    # –¢–µ—Å—Ç –∏–º–ø–æ—Ä—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è
    try:
        import main_bot_railway
        print("‚úÖ –û—Å–Ω–æ–≤–Ω–æ–π –º–æ–¥—É–ª—å –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç—Å—è")
    except Exception as e:
        print(f"‚ùå –û—à–∏–±–∫–∞ –∏–º–ø–æ—Ä—Ç–∞ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –º–æ–¥—É–ª—è: {e}")
        return False
    
    print("\nüéâ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´!")
    print("üöÄ –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –±–æ—Ç–∞ –≥–æ—Ç–æ–≤–∞")
    print("\nüìã –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:")
    print("   ‚Ä¢ –ö–æ–º–∞–Ω–¥–∞ /start")
    print("   ‚Ä¢ –ì–ª–∞–≤–Ω–æ–µ –º–µ–Ω—é —Å 5 –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏")
    print("   ‚Ä¢ –ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π ('–í —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–µ!')")
    print("   ‚Ä¢ Webhook –¥–ª—è Railway")
    print("   ‚Ä¢ –ë–∞–∑–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫")
    
    print("\nüìù –ß—Ç–æ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å:")
    print("   ‚Ä¢ –ö–æ–Ω—Ç–µ–Ω—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏")
    print("   ‚Ä¢ –ü–æ–¥–º–µ–Ω—é –¥–ª—è –∫–∞—Ç–µ–≥–æ—Ä–∏–π")
    print("   ‚Ä¢ –ö–æ–º–∞–Ω–¥—ã /help, /test, /admin")
    print("   ‚Ä¢ –†–µ–∞–∫—Ü–∏–∏ –Ω–∞ –ø–æ—Å—Ç—ã")
    print("   ‚Ä¢ –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π")
    
    return True

if __name__ == '__main__':
    test_minimal_bot()
