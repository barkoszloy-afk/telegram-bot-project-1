# config.py - –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–æ—Ç–∞
import os
import logging
from dotenv import load_dotenv

# –ó–∞–≥—Ä—É–∂–∞–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
load_dotenv()

# –¢–æ–∫–µ–Ω –±–æ—Ç–∞
BOT_TOKEN = os.getenv('BOT_TOKEN')

# ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
ADMIN_ID = int(os.getenv('ADMIN_ID', '0'))

# –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Ç–∞–π–º–∞—É—Ç–æ–≤ –¥–ª—è Railway
CONNECT_TIMEOUT = 30
READ_TIMEOUT = 30
WRITE_TIMEOUT = 30
POOL_TIMEOUT = 30

# –ó–Ω–∞–∫–∏ –∑–æ–¥–∏–∞–∫–∞ —Å —ç–º–æ–¥–∑–∏
ZODIAC_SIGNS = [
    ("–û–≤–µ–Ω", "‚ôà"), ("–¢–µ–ª–µ—Ü", "‚ôâ"), ("–ë–ª–∏–∑–Ω–µ—Ü—ã", "‚ôä"), ("–†–∞–∫", "‚ôã"),
    ("–õ–µ–≤", "‚ôå"), ("–î–µ–≤–∞", "‚ôç"), ("–í–µ—Å—ã", "‚ôé"), ("–°–∫–æ—Ä–ø–∏–æ–Ω", "‚ôè"),
    ("–°—Ç—Ä–µ–ª–µ—Ü", "‚ôê"), ("–ö–æ–∑–µ—Ä–æ–≥", "‚ôë"), ("–í–æ–¥–æ–ª–µ–π", "‚ôí"), ("–†—ã–±—ã", "‚ôì")
]

# –û–±—Ä–∞—Ç–Ω–æ–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –∑–Ω–∞–∫–æ–≤ –∑–æ–¥–∏–∞–∫–∞
ZODIAC_REVERSE_MAPPING = {
    "–û–≤–µ–Ω": "aries", "–¢–µ–ª–µ—Ü": "taurus", "–ë–ª–∏–∑–Ω–µ—Ü—ã": "gemini", "–†–∞–∫": "cancer",
    "–õ–µ–≤": "leo", "–î–µ–≤–∞": "virgo", "–í–µ—Å—ã": "libra", "–°–∫–æ—Ä–ø–∏–æ–Ω": "scorpio",
    "–°—Ç—Ä–µ–ª–µ—Ü": "sagittarius", "–ö–æ–∑–µ—Ä–æ–≥": "capricorn", "–í–æ–¥–æ–ª–µ–π": "aquarius", "–†—ã–±—ã": "pisces"
}
# –≠–º–æ–¥–∑–∏ –¥–ª—è —Ä–µ–∞–∫—Ü–∏–π
REACTION_EMOJIS = ['‚ù§Ô∏è', 'üëç', 'üëé', 'üòÇ', 'üò¢', 'üò°', 'ü§î', 'üôè']

# –ù–∞–∑–≤–∞–Ω–∏—è —Ä–µ–∞–∫—Ü–∏–π
REACTION_NAMES = ['–°–µ—Ä–¥—Ü–µ', '–õ–∞–π–∫', '–î–∏–∑–ª–∞–π–∫', '–°–º–µ—Ö', '–ì—Ä—É—Å—Ç—å', '–ó–ª–æ—Å—Ç—å', '–î—É–º–∞—é', '–ú–æ–ª–∏—Ç–≤–∞']

logger = logging.getLogger(__name__)


def validate_config():
    """–ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏"""
    if not BOT_TOKEN:
        raise ValueError('BOT_TOKEN –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è')

    if not ADMIN_ID:
        raise ValueError('ADMIN_ID –Ω–µ –Ω–∞–π–¥–µ–Ω –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è')

    masked = f'{BOT_TOKEN[:4]}...{BOT_TOKEN[-4:]}' if BOT_TOKEN else 'N/A'
    logger.info('‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∑–∞–≥—Ä—É–∂–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ')
    logger.info('ü§ñ –¢–æ–∫–µ–Ω –±–æ—Ç–∞: %s', masked)
    logger.info('üë§ ID –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞: %s', ADMIN_ID)
